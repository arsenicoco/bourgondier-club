<div
    class="flex gap-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-1 shadow-lg"
>
    <button
        id="light-theme-btn"
        class="px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"
        title="Light mode"
    >
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path
                d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"
            ></path>
        </svg>
    </button>
    <button
        id="dark-theme-btn"
        class="px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"
        title="Dark mode"
    >
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path
                d="M12.1 22c-5.5 0-10-4.5-10-10s4.5-10 10-10c1.8 0 3.5.5 4.9 1.3.4.2.6.7.4 1.1-.2.4-.7.6-1.1.4-1-.6-2.2-.9-3.4-.9-3.9 0-7.1 3.2-7.1 7.1s3.2 7.1 7.1 7.1c3.9 0 7.1-3.2 7.1-7.1 0-1.2-.3-2.4-.9-3.4-.2-.4 0-.9.4-1.1.4-.2.9 0 1.1.4.8 1.4 1.3 3.1 1.3 4.9 0 5.5-4.5 10-10 10z"
            ></path>
        </svg>
    </button>
</div>

<script>
    const lightBtn = document.getElementById("light-theme-btn");
    const darkBtn = document.getElementById("dark-theme-btn");

    function updateActiveButton() {
        const theme = localStorage.getItem("theme");

        // Remove active state from all buttons
        [lightBtn, darkBtn].forEach((btn) => {
            btn.classList.remove(
                "bg-primary",
                "text-white",
                "dark:bg-dark-primary",
            );
        });

        // Add active state to current theme button
        if (theme === "light") {
            lightBtn.classList.add(
                "bg-primary",
                "text-white",
                "dark:bg-dark-primary",
            );
        } else {
            darkBtn.classList.add(
                "bg-primary",
                "text-white",
                "dark:bg-dark-primary",
            );
        }
    }

    function updateTheme() {
        const isDark = localStorage.getItem("theme") === "dark";

        if (isDark) {
            document.documentElement.classList.add("dark");
            document.body.classList.remove("light-theme");
            document.body.classList.add("dark-theme");
        } else {
            document.documentElement.classList.remove("dark");
            document.body.classList.remove("dark-theme");
            document.body.classList.add("light-theme");
        }

        updateActiveButton();
    }

    // Initialize active button state
    updateActiveButton();

    lightBtn.addEventListener("click", () => {
        localStorage.setItem("theme", "light");
        updateTheme();
    });

    darkBtn.addEventListener("click", () => {
        localStorage.setItem("theme", "dark");
        updateTheme();
    });
</script>
